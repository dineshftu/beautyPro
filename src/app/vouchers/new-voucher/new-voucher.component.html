<div class="pop-up-bg">

  <div class="pop-up">
    <div class="pop-up-header">
      <div class="pop-up-title">New Voucher</div>
      <button class="icon-btn">
        <i class="material-icons">close</i>
      </button>
    </div>

    <div class="pop-up-body">

      <form name="form" (ngSubmit)="f.form.valid && save()" #f="ngForm" novalidate>

        <div class="inline-form">

          <div class="form-group">

            <div class="ng-autocomplete">

              <ng-autocomplete [data]="customers" [searchKeyword]="keyword" historyIdentifier="customers"
                placeHolder="Enter Customer Name" (selected)='selectCustomerEvent($event)' [itemTemplate]="itemTemplate"
                [notFoundTemplate]="notFoundTemplate">
              </ng-autocomplete>

              <ng-template #itemTemplate let-item>
                <a [innerHTML]="item.fullName"></a>
              </ng-template>

              <ng-template #notFoundTemplate let-notFound>
                <div [innerHTML]="notFound"></div>
              </ng-template>

            </div>

          </div>

          <div class="form-group">

            <label>Payment Type</label>
            <select class="form-control select" (change)="onPaymentTypeChange($event)">
              <option value="" disabled selected>Select Payment Type</option>
              <option value="{{paymentType.ptid}}" *ngFor="let paymentType of paymentTypes">{{paymentType.ptname}}
              </option>
            </select>

            <div *ngIf="f.submitted && isPaymentTypeNotSelected">
              <div>Payment Type is required</div>
            </div>

          </div>

        </div>

        <div class="inline-form">



          <div class="form-group">

            <div class="ng-autocomplete">

              <ng-autocomplete [data]="treatmentList" [searchKeyword]="keywordTreatment"
                historyIdentifier="treatmentList" placeHolder="Enter Treatment Name"
                (selected)='selectTreatmentEvent($event)' [itemTemplate]="itemTemplate1"
                [notFoundTemplate]="notFoundTemplate1">
              </ng-autocomplete>

              <ng-template #itemTemplate1 let-item>
                <a [innerHTML]="item.ttname"></a>
              </ng-template>

              <ng-template #notFoundTemplate1 let-notFound>
                <div [innerHTML]="notFound"></div>
              </ng-template>

            </div>

          </div>


        </div>

        <div class="inline-form">

          <div class="form-group">
            <label>Voucher No</label>
            <input class="form-control" name="voucherNo" [(ngModel)]="newVoucherRequest.voucherNo" #voucherNo="ngModel"
              [ngClass]="{ 'is-invalid': f.submitted && voucherNo.invalid }" placeholder="Voucher no..." />

            <div *ngIf="f.submitted && voucherNo.invalid">
              <div *ngIf="voucherNo.errors.required">Voucher No is required</div>
            </div>

          </div>

          <div class="form-group form-amnt">
            <label>Amount</label>
            <span class="form-prefix">LKR</span>
            <input class="form-control" name="dueAmount" [(ngModel)]="newVoucherRequest.dueAmount" #dueAmount="ngModel"
              [ngClass]="{ 'is-invalid': f.submitted && dueAmount.invalid }" (keypress)="numericOnly($event)" required
              placeholder="0.00" />

            <div *ngIf="f.submitted && dueAmount.invalid">
              <div *ngIf="dueAmount.errors.required">Amount is required</div>
            </div>

          </div>

        </div>

        <div class="pop-up-btns">
          <button class="btn-primary" (click)="cancel()">Cancel</button>
          <button class="btn-default">Save</button>
        </div>

      </form>

    </div>




  </div>

</div>